<!-- Contacts Directory Modal -->
<div class="cad-modal-overlay" onclick="CAD_MODAL.close()"></div>
<div class="cad-modal contacts-modal" role="dialog" aria-modal="true" aria-label="Contacts Directory">
    <div class="cad-modal-header">
        <div class="cad-modal-title">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
            Contacts Directory
        </div>
        <button class="cad-modal-close" onclick="CAD_MODAL.close()">&times;</button>
    </div>
    <div class="cad-modal-body">
        <div class="contacts-container">
            <div class="contacts-search">
                <input type="text" placeholder="Search contacts..." id="contacts-search-input">
            </div>

            <div class="contacts-categories">
                <button class="cat-btn active" data-cat="all">All</button>
                <button class="cat-btn" data-cat="fire">Fire</button>
                <button class="cat-btn" data-cat="ems">EMS</button>
                <button class="cat-btn" data-cat="police">Police</button>
                <button class="cat-btn" data-cat="utility">Utilities</button>
                <button class="cat-btn" data-cat="hospital">Hospitals</button>
            </div>

            <div class="contacts-list" id="contacts-list">
                <div class="contact-card">
                    <div class="contact-icon fire">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2c.5 2.5 2 4.5 2 7 0 3-2 5-4 5s-4-2-4-5c0-2.5 1.5-4.5 2-7"></path>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-name">Fire Station 1</div>
                        <div class="contact-detail">555-0100</div>
                    </div>
                    <button class="btn-icon" title="Call"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"></path></svg></button>
                </div>

                <div class="contact-card">
                    <div class="contact-icon ems">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-name">County EMS Dispatch</div>
                        <div class="contact-detail">555-0911</div>
                    </div>
                    <button class="btn-icon" title="Call"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"></path></svg></button>
                </div>

                <div class="contact-card">
                    <div class="contact-icon police">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-name">Sheriff's Office</div>
                        <div class="contact-detail">555-0199</div>
                    </div>
                    <button class="btn-icon" title="Call"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"></path></svg></button>
                </div>

                <div class="contact-card">
                    <div class="contact-icon hospital">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-name">Regional Medical Center</div>
                        <div class="contact-detail">555-0200</div>
                    </div>
                    <button class="btn-icon" title="Call"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"></path></svg></button>
                </div>

                <div class="contact-card">
                    <div class="contact-icon utility">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-name">Power Company</div>
                        <div class="contact-detail">555-0300</div>
                    </div>
                    <button class="btn-icon" title="Call"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"></path></svg></button>
                </div>
            </div>
        </div>
    </div>
    <div class="cad-modal-footer">
        <button class="btn-primary" onclick="CONTACTS.addNew()">+ Add Contact</button>
        <button class="btn-secondary" onclick="CAD_MODAL.close()">Close</button>
    </div>
</div>

<style>
.contacts-modal { min-width: 500px; max-height: 80vh; }
.contacts-container { display: flex; flex-direction: column; gap: var(--space-3); }
.contacts-search input {
    width: 100%;
    padding: var(--space-2);
    background: var(--bg-elevated);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-primary);
}
.contacts-categories {
    display: flex;
    gap: var(--space-1);
    flex-wrap: wrap;
}
.cat-btn {
    padding: var(--space-1) var(--space-2);
    background: var(--bg-elevated);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 600;
    color: var(--text-secondary);
    cursor: pointer;
}
.cat-btn.active, .cat-btn:hover {
    background: var(--ford-blue);
    color: white;
    border-color: var(--ford-blue);
}
.contacts-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    max-height: 400px;
    overflow-y: auto;
}
.contact-card {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2) var(--space-3);
    background: var(--bg-elevated);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
}
.contact-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    color: white;
}
.contact-icon.fire { background: #ef4444; }
.contact-icon.ems { background: #3b82f6; }
.contact-icon.police { background: #6366f1; }
.contact-icon.hospital { background: #22c55e; }
.contact-icon.utility { background: #f59e0b; }
.contact-info { flex: 1; }
.contact-name { font-weight: 600; color: var(--text-primary); }
.contact-detail { font-size: var(--text-sm); color: var(--text-secondary); }
</style>

<script>
window.CONTACTS = {
    addNew() {
        TOAST?.info?.("Add contact form coming soon");
    }
};

// Category filtering
document.querySelectorAll('.cat-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    });
});
</script>
